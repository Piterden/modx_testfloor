<?php return array (
  'unique_key' => 'name',
  'preserve_keys' => false,
  'update_object' => true,
  'related_objects' => 
  array (
    'PluginEvents' => 
    array (
      '73188b86594f28f922950f5e08cc2dad' => 
      array (
        'preserve_keys' => true,
        'update_object' => false,
        'unique_key' => 
        array (
          0 => 'pluginid',
          1 => 'event',
        ),
        'class' => 'modPluginEvent',
        'object' => '{"pluginid":1,"event":"OnManagerPageBeforeRender","priority":0,"propertyset":0}',
        'guid' => '84015983d3aa3cc286f2bd8b7c03dd64',
        'native_key' => 
        array (
          0 => 1,
          1 => 'OnManagerPageBeforeRender',
        ),
        'signature' => '7651138562fc1d4c851c9d9d494331be',
      ),
      '88e214fbe6d4f2d3286168865144b05a' => 
      array (
        'preserve_keys' => true,
        'update_object' => false,
        'unique_key' => 
        array (
          0 => 'pluginid',
          1 => 'event',
        ),
        'class' => 'modPluginEvent',
        'object' => '{"pluginid":1,"event":"OnManagerPageAfterRender","priority":0,"propertyset":0}',
        'guid' => '7dccbab6ebe73b56fca94982b740a74d',
        'native_key' => 
        array (
          0 => 1,
          1 => 'OnManagerPageAfterRender',
        ),
        'signature' => 'eaee10d11b5519134709bf770719b63f',
      ),
    ),
  ),
  'abort_install_on_vehicle_fail' => true,
  'related_object_attributes' => 
  array (
    'PluginEvents' => 
    array (
      'preserve_keys' => true,
      'update_object' => false,
      'unique_key' => 
      array (
        0 => 'pluginid',
        1 => 'event',
      ),
    ),
  ),
  'namespace' => 'ajaxmanager',
  'resolve' => 
  array (
    0 => 
    array (
      'type' => 'file',
      'body' => '{"source":"ajaxmanager-1.2.0-pl\\/modPlugin\\/ebae71680a8400d5bd09e6124cfb93f8\\/0\\/","target":"return MODX_MANAGER_PATH . \'assets\\/components\\/\';","name":"ajaxmanager"}',
    ),
    1 => 
    array (
      'type' => 'file',
      'body' => '{"source":"ajaxmanager-1.2.0-pl\\/modPlugin\\/ebae71680a8400d5bd09e6124cfb93f8\\/1\\/","target":"return MODX_CORE_PATH . \'components\\/\';","name":"ajaxmanager"}',
    ),
    2 => 
    array (
      'type' => 'file',
      'body' => '{"source":"ajaxmanager-1.2.0-pl\\/modPlugin\\/ebae71680a8400d5bd09e6124cfb93f8\\/2\\/","target":"return MODX_CONNECTORS_PATH . \'components\\/\';","name":"ajaxmanager"}',
    ),
  ),
  'validate' => 
  array (
    0 => 
    array (
      'type' => 'php',
      'body' => '{"source":"ajaxmanager-1.2.0-pl\\/modPlugin\\/ebae71680a8400d5bd09e6124cfb93f8.validator.validator","name":"validator","type":"php"}',
    ),
  ),
  'vehicle_package' => 'transport',
  'vehicle_class' => 'xPDOObjectVehicle',
  'guid' => '03c6c4531d2261687c745ff63dfcc1f3',
  'package' => 'modx',
  'class' => 'modPlugin',
  'signature' => 'ebae71680a8400d5bd09e6124cfb93f8',
  'native_key' => 1,
  'object' => '{"id":1,"source":0,"property_preprocess":0,"name":"AjaxManager","description":"Speeds up manager panel by using ajax page loading.","editor_type":0,"category":0,"cache_type":0,"plugincode":"\\/**\\n * AjaxManager Plugin\\n *\\n * Events: OnManagerPageBeforeRender, OnManagerPageAfterRender\\n *\\n * @author Danil Kostin <danya.postfactum(at)gmail.com>\\n *\\n * @package ajaxmanager\\n *\\/\\n\\n$enabled = $modx->getOption(\'ajaxmanager.enabled\', null, true);\\n\\nif (!$enabled){\\n    return;\\n}\\n\\n$managerUrl = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);\\n\\n$controller =& $scriptProperties[\'controller\'];\\n\\n$preload = $modx->getOption(\'ajaxmanager.preload\', null, true);\\n\\n$files = $preload ? array(\\n    \'sections\\/context\\/list.js\',\\n    \'sections\\/context\\/update.js\',\\n    \'sections\\/context\\/view.js\',\\n    \'sections\\/element\\/chunk\\/create.js\',\\n    \'sections\\/element\\/chunk\\/update.js\',\\n    \'sections\\/element\\/plugin\\/create.js\',\\n    \'sections\\/element\\/plugin\\/update.js\',\\n    \'sections\\/element\\/propertyset\\/index.js\',\\n    \'sections\\/element\\/snippet\\/create.js\',\\n    \'sections\\/element\\/snippet\\/update.js\',\\n    \'sections\\/element\\/template\\/create.js\',\\n    \'sections\\/element\\/template\\/update.js\',\\n    \'sections\\/element\\/tv\\/create.js\',\\n    \'sections\\/element\\/tv\\/update.js\',\\n    \'sections\\/fc\\/list.js\',\\n    \'sections\\/fc\\/profile\\/update.js\',\\n    \'sections\\/fc\\/set\\/update.js\',\\n    \'sections\\/resource\\/create.js\',\\n    \'sections\\/resource\\/data.js\',\\n    \'sections\\/resource\\/schedule.js\',\\n    \'sections\\/resource\\/static\\/create.js\',\\n    \'sections\\/resource\\/static\\/update.js\',\\n    \'sections\\/resource\\/symlink\\/create.js\',\\n    \'sections\\/resource\\/symlink\\/update.js\',\\n    \'sections\\/resource\\/update.js\',\\n    \'sections\\/resource\\/weblink\\/create.js\',\\n    \'sections\\/resource\\/weblink\\/update.js\',\\n    \'sections\\/search.js\',\\n    \'sections\\/security\\/access\\/policy\\/template\\/update.js\',\\n    \'sections\\/security\\/access\\/policy\\/update.js\',\\n    \'sections\\/security\\/message\\/list.js\',\\n    \'sections\\/security\\/permissions\\/list.js\',\\n    \'sections\\/security\\/profile\\/update.js\',\\n    \'sections\\/security\\/resourcegroup\\/list.js\',\\n    \'sections\\/security\\/user\\/create.js\',\\n    \'sections\\/security\\/user\\/list.js\',\\n    \'sections\\/security\\/user\\/update.js\',\\n    \'sections\\/security\\/usergroup\\/update.js\',\\n    \'sections\\/source\\/index.js\',\\n    \'sections\\/source\\/update.js\',\\n    \'sections\\/system\\/action.js\',\\n    \'sections\\/system\\/content.type.js\',\\n    \'sections\\/system\\/dashboards\\/create.js\',\\n    \'sections\\/system\\/dashboards\\/list.js\',\\n    \'sections\\/system\\/dashboards\\/update.js\',\\n    \'sections\\/system\\/dashboards\\/widget\\/create.js\',\\n    \'sections\\/system\\/dashboards\\/widget\\/update.js\',\\n    \'sections\\/system\\/error.log.js\',\\n    \'sections\\/system\\/file\\/create.js\',\\n    \'sections\\/system\\/file\\/edit.js\',\\n    \'sections\\/system\\/help.js\',\\n    \'sections\\/system\\/import\\/html.js\',\\n    \'sections\\/system\\/import\\/resource.js\',\\n    \'sections\\/system\\/info.js\',\\n    \'sections\\/system\\/logs.js\',\\n    \'sections\\/system\\/settings.js\',\\n    \'sections\\/welcome.js\',\\n    \'widgets\\/core\\/modx.console.js\',\\n    \'widgets\\/core\\/modx.grid.js\',\\n    \'widgets\\/core\\/modx.grid.local.property.js\',\\n    \'widgets\\/core\\/modx.grid.settings.js\',\\n    \'widgets\\/core\\/modx.orm.js\',\\n    \'widgets\\/core\\/modx.panel.wizard.js\',\\n    \'widgets\\/core\\/modx.portal.js\',\\n    \'widgets\\/core\\/modx.rte.browser.js\',\\n    \'widgets\\/element\\/modx.grid.element.properties.js\',\\n    \'widgets\\/element\\/modx.grid.plugin.event.js\',\\n    \'widgets\\/element\\/modx.grid.template.tv.js\',\\n    \'widgets\\/element\\/modx.grid.tv.security.js\',\\n    \'widgets\\/element\\/modx.grid.tv.template.js\',\\n    \'widgets\\/element\\/modx.panel.chunk.js\',\\n    \'widgets\\/element\\/modx.panel.plugin.js\',\\n    \'widgets\\/element\\/modx.panel.property.set.js\',\\n    \'widgets\\/element\\/modx.panel.snippet.js\',\\n    \'widgets\\/element\\/modx.panel.template.js\',\\n    \'widgets\\/element\\/modx.panel.tv.js\',\\n    \'widgets\\/element\\/modx.panel.tv.renders.js\',\\n    \'widgets\\/element\\/modx.tree.element.js\',\\n    \'widgets\\/fc\\/modx.fc.common.js\',\\n    \'widgets\\/fc\\/modx.grid.fcprofile.js\',\\n    \'widgets\\/fc\\/modx.grid.fcset.js\',\\n    \'widgets\\/fc\\/modx.panel.fcprofile.js\',\\n    \'widgets\\/fc\\/modx.panel.fcset.js\',\\n    \'widgets\\/modx.panel.search.js\',\\n    \'widgets\\/modx.panel.welcome.js\',\\n    \'widgets\\/modx.treedrop.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.active.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.security.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.security.local.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.data.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.schedule.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.static.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.symlink.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.tv.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.weblink.js\',\\n    \'widgets\\/resource\\/modx.tree.resource.js\',\\n    \'widgets\\/resource\\/modx.tree.resource.simple.js\',\\n    \'widgets\\/security\\/modx.grid.access.context.js\',\\n    \'widgets\\/security\\/modx.grid.access.policy.js\',\\n    \'widgets\\/security\\/modx.grid.access.policy.template.js\',\\n    \'widgets\\/security\\/modx.grid.message.js\',\\n    \'widgets\\/security\\/modx.grid.role.js\',\\n    \'widgets\\/security\\/modx.grid.role.user.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.category.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.context.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.resource.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.source.js\',\\n    \'widgets\\/security\\/modx.grid.user.js\',\\n    \'widgets\\/security\\/modx.grid.user.recent.resource.js\',\\n    \'widgets\\/security\\/modx.grid.user.settings.js\',\\n    \'widgets\\/security\\/modx.panel.access.policy.js\',\\n    \'widgets\\/security\\/modx.panel.access.policy.template.js\',\\n    \'widgets\\/security\\/modx.panel.groups.roles.js\',\\n    \'widgets\\/security\\/modx.panel.resource.group.js\',\\n    \'widgets\\/security\\/modx.panel.user.group.js\',\\n    \'widgets\\/security\\/modx.panel.user.js\',\\n    \'widgets\\/security\\/modx.tree.resource.group.js\',\\n    \'widgets\\/security\\/modx.tree.user.group.js\',\\n    \'widgets\\/source\\/modx.grid.source.access.js\',\\n    \'widgets\\/source\\/modx.grid.source.properties.js\',\\n    \'widgets\\/source\\/modx.panel.source.js\',\\n    \'widgets\\/source\\/modx.panel.sources.js\',\\n    \'widgets\\/system\\/modx.grid.content.type.js\',\\n    \'widgets\\/system\\/modx.grid.context.js\',\\n    \'widgets\\/system\\/modx.grid.context.settings.js\',\\n    \'widgets\\/system\\/modx.grid.dashboard.widgets.js\',\\n    \'widgets\\/system\\/modx.grid.manager.log.js\',\\n    \'widgets\\/system\\/modx.grid.system.event.js\',\\n    \'widgets\\/system\\/modx.panel.actions.js\',\\n    \'widgets\\/system\\/modx.panel.context.js\',\\n    \'widgets\\/system\\/modx.panel.dashboard.js\',\\n    \'widgets\\/system\\/modx.panel.dashboard.widget.js\',\\n    \'widgets\\/system\\/modx.panel.dashboards.js\',\\n    \'widgets\\/system\\/modx.panel.error.log.js\',\\n    \'widgets\\/system\\/modx.panel.import.html.js\',\\n    \'widgets\\/system\\/modx.panel.import.resources.js\',\\n    \'widgets\\/system\\/modx.panel.system.settings.js\',\\n    \'widgets\\/system\\/modx.tree.directory.js\',\\n    \'widgets\\/system\\/modx.tree.menu.js\',\\n    \'widgets\\/system\\/mysql\\/modx.grid.databasetables.js\',\\n    \'widgets\\/system\\/sqlsrv\\/modx.grid.databasetables.js\',\\n    \'widgets\\/windows.js\',\\n    \'workspace\\/combos.js\',\\n    \'workspace\\/index.js\',\\n    \'workspace\\/lexicon\\/combos.js\',\\n    \'workspace\\/lexicon\\/index.js\',\\n    \'workspace\\/lexicon\\/language.grid.js\',\\n    \'workspace\\/lexicon\\/lexicon.grid.js\',\\n    \'workspace\\/lexicon\\/lexicon.panel.js\',\\n    \'workspace\\/lexicon\\/lexicon.topic.grid.js\',\\n    \'workspace\\/namespace\\/index.js\',\\n    \'workspace\\/namespace\\/modx.namespace.panel.js\',\\n    \'workspace\\/package\\/index.js\',\\n    \'workspace\\/package\\/package.panel.js\',\\n    \'workspace\\/package\\/package.versions.grid.js\',\\n    \'workspace\\/package.browser.panels.js\',\\n    \'workspace\\/package.browser.tree.js\',\\n    \'workspace\\/package.containers.js\',\\n    \'workspace\\/package.grid.js\',\\n    \'workspace\\/package.panels.js\',\\n    \'workspace\\/package.windows.js\',\\n    \'workspace\\/provider.grid.js\',\\n    \'workspace\\/workspace.panel.js\',\\n) : array();\\n\\nswitch ($modx->event->name)\\n{\\n    case \'OnManagerPageBeforeRender\':\\n        if ($controller->loadHeader && $controller->loadFooter) {\\n            if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {\\n                $route = $modx->request->action;\\n                if (intval($route) > 0) {\\n                    $action = $modx->actionMap[$route];\\n                    $namespace = $action[\'namespace\'];\\n                } else {\\n                    $namespace = $modx->request->namespace;\\n                }\\n                $namespaces = explode(\',\', $modx->getOption(\'ajaxmanager.compatible_namespaces\', null, \'core\'));\\n                if ($route && !in_array($namespace, $namespaces)) {\\n                    die();\\n                }\\n                $controller->loadHeader = false;\\n                $controller->loadFooter = false;\\n                $controller->packToJSON = true;\\n            } else {\\n                foreach ($files as $file) {\\n                        $controller->addJavaScript($managerUrl . \'assets\\/modext\\/\' . $file);\\n                }\\n                $controller->addJavaScript($managerUrl. \'assets\\/components\\/ajaxmanager\\/ajaxmanager.js\');\\n                $controller->packToJSON = false;\\n            }\\n        }\\n        break;\\n    case \'OnManagerPageAfterRender\':\\n        if ($controller->packToJSON) {\\n\\n            $content = $controller->content;\\n            $title = $controller->getPageTitle();\\n\\n            $scripts = array();\\n            $styles = array();\\n            $sources = array();\\n            $standalone = array();\\n            $topics = array();\\n\\n\\n            $loaded = json_decode($_REQUEST[\'loaded\'], true);\\n\\n            $embedded = array();\\n            $embedded[\'styles\']   = array();\\n            $embedded[\'scripts\']  = array();\\n\\n            foreach ($controller->head[\'css\'] as $src) {\\n                if (!in_array($src, $loaded[\'styleSheets\']))\\n                    $styles[] = $src;\\n            }\\n\\n            foreach ($controller->head[\'js\'] as $src) {\\n                $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                if (!in_array($src, $loaded[\'scripts\']))\\n                    $sources[] = $src;\\n            }\\n\\n            foreach ($controller->head[\'html\'] as $html) {\\n                if (preg_match(\'\\/<script(.*?)>\\/\', $html)){\\n                    $embedded[\'scripts\'][] = $html;\\n                } else if (preg_match(\'\\/<style(.*?)>\\/\', $html)){\\n                    $embedded[\'styles\'][] = $html;\\n                }\\n            }\\n\\n            foreach ($modx->sjscripts as $html) {\\n                if (preg_match(\'\\/<script(.*?)>\\/\', $html, $matches)){\\n                    if (preg_match(\'\\/src\\\\s*=\\\\s*([\\"\\\\\'])(?P<src>.*?)\\\\1\\/\', $matches[1], $matches)) {\\n                        $src = $matches[\'src\'];\\n                        $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                        if (in_array($src, $loaded[\'scripts\'])) continue;\\n                        if (preg_match(\'\\/tiny_mce(_src)?.js$\\/\', $src)) {\\n                            $standalone[] = $src;\\n                            continue;\\n                        }\\n                        $sources[] = $src;\\n                    } else {\\n                        $embedded[\'scripts\'][] = str_replace(\'MODx.loadRTE();\', \'\', $html);\\n                    }\\n                } else if (preg_match(\'\\/<style(.*?)>\\/\', $html)){\\n                    $embedded[\'styles\'][] = $html;\\n                }\\n            }\\n\\n            foreach ($controller->head[\'lastjs\'] as $src) {\\n                $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                if (!in_array($src, $loaded[\'scripts\']))\\n                    $sources[] = $src;\\n            }\\n\\n            if (count($sources)){\\n                $scripts[] = $managerUrl.\'min\\/index.php?f=\'.implode(\',\',$sources);\\n            }\\n            $scripts = array_merge($scripts, $standalone);\\n\\n            $langTopics = $controller->getPlaceholder(\'_lang_topics\');\\n            $langTopics = explode(\',\',$langTopics);\\n            foreach($langTopics as $topic) {\\n                if (!in_array($topic, $loaded[\'topics\']))\\n                    $topics[] = $topic;\\n            }\\n            if (count($topics)){\\n                $scripts[] = $modx->getOption(\'connectors_url\', null, MODX_CONNECTORS_URL). \'components\\/ajaxmanager\\/lang.js.php?ctx=mgr&topic=\'.implode(\',\', $topics);\\n            }\\n\\n            $response = array(\\n                \'title\'     => $title,\\n                \'content\'   => $content,\\n                \'scripts\'   => $scripts,\\n                \'styles\'    => $styles,\\n                \'embedded\'  => array(\\n                    \'scripts\'    => $embedded[\'scripts\'],\\n                    \'styles\'     => $embedded[\'styles\']\\n                )\\n            );\\n\\n            $controller->content = json_encode($response);\\n\\n            header(\'Content-Type: application\\/json\');\\n        }\\n}","locked":0,"properties":null,"disabled":0,"moduleguid":"","static":0,"static_file":"","content":"\\/**\\n * AjaxManager Plugin\\n *\\n * Events: OnManagerPageBeforeRender, OnManagerPageAfterRender\\n *\\n * @author Danil Kostin <danya.postfactum(at)gmail.com>\\n *\\n * @package ajaxmanager\\n *\\/\\n\\n$enabled = $modx->getOption(\'ajaxmanager.enabled\', null, true);\\n\\nif (!$enabled){\\n    return;\\n}\\n\\n$managerUrl = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);\\n\\n$controller =& $scriptProperties[\'controller\'];\\n\\n$preload = $modx->getOption(\'ajaxmanager.preload\', null, true);\\n\\n$files = $preload ? array(\\n    \'sections\\/context\\/list.js\',\\n    \'sections\\/context\\/update.js\',\\n    \'sections\\/context\\/view.js\',\\n    \'sections\\/element\\/chunk\\/create.js\',\\n    \'sections\\/element\\/chunk\\/update.js\',\\n    \'sections\\/element\\/plugin\\/create.js\',\\n    \'sections\\/element\\/plugin\\/update.js\',\\n    \'sections\\/element\\/propertyset\\/index.js\',\\n    \'sections\\/element\\/snippet\\/create.js\',\\n    \'sections\\/element\\/snippet\\/update.js\',\\n    \'sections\\/element\\/template\\/create.js\',\\n    \'sections\\/element\\/template\\/update.js\',\\n    \'sections\\/element\\/tv\\/create.js\',\\n    \'sections\\/element\\/tv\\/update.js\',\\n    \'sections\\/fc\\/list.js\',\\n    \'sections\\/fc\\/profile\\/update.js\',\\n    \'sections\\/fc\\/set\\/update.js\',\\n    \'sections\\/resource\\/create.js\',\\n    \'sections\\/resource\\/data.js\',\\n    \'sections\\/resource\\/schedule.js\',\\n    \'sections\\/resource\\/static\\/create.js\',\\n    \'sections\\/resource\\/static\\/update.js\',\\n    \'sections\\/resource\\/symlink\\/create.js\',\\n    \'sections\\/resource\\/symlink\\/update.js\',\\n    \'sections\\/resource\\/update.js\',\\n    \'sections\\/resource\\/weblink\\/create.js\',\\n    \'sections\\/resource\\/weblink\\/update.js\',\\n    \'sections\\/search.js\',\\n    \'sections\\/security\\/access\\/policy\\/template\\/update.js\',\\n    \'sections\\/security\\/access\\/policy\\/update.js\',\\n    \'sections\\/security\\/message\\/list.js\',\\n    \'sections\\/security\\/permissions\\/list.js\',\\n    \'sections\\/security\\/profile\\/update.js\',\\n    \'sections\\/security\\/resourcegroup\\/list.js\',\\n    \'sections\\/security\\/user\\/create.js\',\\n    \'sections\\/security\\/user\\/list.js\',\\n    \'sections\\/security\\/user\\/update.js\',\\n    \'sections\\/security\\/usergroup\\/update.js\',\\n    \'sections\\/source\\/index.js\',\\n    \'sections\\/source\\/update.js\',\\n    \'sections\\/system\\/action.js\',\\n    \'sections\\/system\\/content.type.js\',\\n    \'sections\\/system\\/dashboards\\/create.js\',\\n    \'sections\\/system\\/dashboards\\/list.js\',\\n    \'sections\\/system\\/dashboards\\/update.js\',\\n    \'sections\\/system\\/dashboards\\/widget\\/create.js\',\\n    \'sections\\/system\\/dashboards\\/widget\\/update.js\',\\n    \'sections\\/system\\/error.log.js\',\\n    \'sections\\/system\\/file\\/create.js\',\\n    \'sections\\/system\\/file\\/edit.js\',\\n    \'sections\\/system\\/help.js\',\\n    \'sections\\/system\\/import\\/html.js\',\\n    \'sections\\/system\\/import\\/resource.js\',\\n    \'sections\\/system\\/info.js\',\\n    \'sections\\/system\\/logs.js\',\\n    \'sections\\/system\\/settings.js\',\\n    \'sections\\/welcome.js\',\\n    \'widgets\\/core\\/modx.console.js\',\\n    \'widgets\\/core\\/modx.grid.js\',\\n    \'widgets\\/core\\/modx.grid.local.property.js\',\\n    \'widgets\\/core\\/modx.grid.settings.js\',\\n    \'widgets\\/core\\/modx.orm.js\',\\n    \'widgets\\/core\\/modx.panel.wizard.js\',\\n    \'widgets\\/core\\/modx.portal.js\',\\n    \'widgets\\/core\\/modx.rte.browser.js\',\\n    \'widgets\\/element\\/modx.grid.element.properties.js\',\\n    \'widgets\\/element\\/modx.grid.plugin.event.js\',\\n    \'widgets\\/element\\/modx.grid.template.tv.js\',\\n    \'widgets\\/element\\/modx.grid.tv.security.js\',\\n    \'widgets\\/element\\/modx.grid.tv.template.js\',\\n    \'widgets\\/element\\/modx.panel.chunk.js\',\\n    \'widgets\\/element\\/modx.panel.plugin.js\',\\n    \'widgets\\/element\\/modx.panel.property.set.js\',\\n    \'widgets\\/element\\/modx.panel.snippet.js\',\\n    \'widgets\\/element\\/modx.panel.template.js\',\\n    \'widgets\\/element\\/modx.panel.tv.js\',\\n    \'widgets\\/element\\/modx.panel.tv.renders.js\',\\n    \'widgets\\/element\\/modx.tree.element.js\',\\n    \'widgets\\/fc\\/modx.fc.common.js\',\\n    \'widgets\\/fc\\/modx.grid.fcprofile.js\',\\n    \'widgets\\/fc\\/modx.grid.fcset.js\',\\n    \'widgets\\/fc\\/modx.panel.fcprofile.js\',\\n    \'widgets\\/fc\\/modx.panel.fcset.js\',\\n    \'widgets\\/modx.panel.search.js\',\\n    \'widgets\\/modx.panel.welcome.js\',\\n    \'widgets\\/modx.treedrop.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.active.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.security.js\',\\n    \'widgets\\/resource\\/modx.grid.resource.security.local.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.data.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.schedule.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.static.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.symlink.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.tv.js\',\\n    \'widgets\\/resource\\/modx.panel.resource.weblink.js\',\\n    \'widgets\\/resource\\/modx.tree.resource.js\',\\n    \'widgets\\/resource\\/modx.tree.resource.simple.js\',\\n    \'widgets\\/security\\/modx.grid.access.context.js\',\\n    \'widgets\\/security\\/modx.grid.access.policy.js\',\\n    \'widgets\\/security\\/modx.grid.access.policy.template.js\',\\n    \'widgets\\/security\\/modx.grid.message.js\',\\n    \'widgets\\/security\\/modx.grid.role.js\',\\n    \'widgets\\/security\\/modx.grid.role.user.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.category.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.context.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.resource.js\',\\n    \'widgets\\/security\\/modx.grid.user.group.source.js\',\\n    \'widgets\\/security\\/modx.grid.user.js\',\\n    \'widgets\\/security\\/modx.grid.user.recent.resource.js\',\\n    \'widgets\\/security\\/modx.grid.user.settings.js\',\\n    \'widgets\\/security\\/modx.panel.access.policy.js\',\\n    \'widgets\\/security\\/modx.panel.access.policy.template.js\',\\n    \'widgets\\/security\\/modx.panel.groups.roles.js\',\\n    \'widgets\\/security\\/modx.panel.resource.group.js\',\\n    \'widgets\\/security\\/modx.panel.user.group.js\',\\n    \'widgets\\/security\\/modx.panel.user.js\',\\n    \'widgets\\/security\\/modx.tree.resource.group.js\',\\n    \'widgets\\/security\\/modx.tree.user.group.js\',\\n    \'widgets\\/source\\/modx.grid.source.access.js\',\\n    \'widgets\\/source\\/modx.grid.source.properties.js\',\\n    \'widgets\\/source\\/modx.panel.source.js\',\\n    \'widgets\\/source\\/modx.panel.sources.js\',\\n    \'widgets\\/system\\/modx.grid.content.type.js\',\\n    \'widgets\\/system\\/modx.grid.context.js\',\\n    \'widgets\\/system\\/modx.grid.context.settings.js\',\\n    \'widgets\\/system\\/modx.grid.dashboard.widgets.js\',\\n    \'widgets\\/system\\/modx.grid.manager.log.js\',\\n    \'widgets\\/system\\/modx.grid.system.event.js\',\\n    \'widgets\\/system\\/modx.panel.actions.js\',\\n    \'widgets\\/system\\/modx.panel.context.js\',\\n    \'widgets\\/system\\/modx.panel.dashboard.js\',\\n    \'widgets\\/system\\/modx.panel.dashboard.widget.js\',\\n    \'widgets\\/system\\/modx.panel.dashboards.js\',\\n    \'widgets\\/system\\/modx.panel.error.log.js\',\\n    \'widgets\\/system\\/modx.panel.import.html.js\',\\n    \'widgets\\/system\\/modx.panel.import.resources.js\',\\n    \'widgets\\/system\\/modx.panel.system.settings.js\',\\n    \'widgets\\/system\\/modx.tree.directory.js\',\\n    \'widgets\\/system\\/modx.tree.menu.js\',\\n    \'widgets\\/system\\/mysql\\/modx.grid.databasetables.js\',\\n    \'widgets\\/system\\/sqlsrv\\/modx.grid.databasetables.js\',\\n    \'widgets\\/windows.js\',\\n    \'workspace\\/combos.js\',\\n    \'workspace\\/index.js\',\\n    \'workspace\\/lexicon\\/combos.js\',\\n    \'workspace\\/lexicon\\/index.js\',\\n    \'workspace\\/lexicon\\/language.grid.js\',\\n    \'workspace\\/lexicon\\/lexicon.grid.js\',\\n    \'workspace\\/lexicon\\/lexicon.panel.js\',\\n    \'workspace\\/lexicon\\/lexicon.topic.grid.js\',\\n    \'workspace\\/namespace\\/index.js\',\\n    \'workspace\\/namespace\\/modx.namespace.panel.js\',\\n    \'workspace\\/package\\/index.js\',\\n    \'workspace\\/package\\/package.panel.js\',\\n    \'workspace\\/package\\/package.versions.grid.js\',\\n    \'workspace\\/package.browser.panels.js\',\\n    \'workspace\\/package.browser.tree.js\',\\n    \'workspace\\/package.containers.js\',\\n    \'workspace\\/package.grid.js\',\\n    \'workspace\\/package.panels.js\',\\n    \'workspace\\/package.windows.js\',\\n    \'workspace\\/provider.grid.js\',\\n    \'workspace\\/workspace.panel.js\',\\n) : array();\\n\\nswitch ($modx->event->name)\\n{\\n    case \'OnManagerPageBeforeRender\':\\n        if ($controller->loadHeader && $controller->loadFooter) {\\n            if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {\\n                $route = $modx->request->action;\\n                if (intval($route) > 0) {\\n                    $action = $modx->actionMap[$route];\\n                    $namespace = $action[\'namespace\'];\\n                } else {\\n                    $namespace = $modx->request->namespace;\\n                }\\n                $namespaces = explode(\',\', $modx->getOption(\'ajaxmanager.compatible_namespaces\', null, \'core\'));\\n                if ($route && !in_array($namespace, $namespaces)) {\\n                    die();\\n                }\\n                $controller->loadHeader = false;\\n                $controller->loadFooter = false;\\n                $controller->packToJSON = true;\\n            } else {\\n                foreach ($files as $file) {\\n                        $controller->addJavaScript($managerUrl . \'assets\\/modext\\/\' . $file);\\n                }\\n                $controller->addJavaScript($managerUrl. \'assets\\/components\\/ajaxmanager\\/ajaxmanager.js\');\\n                $controller->packToJSON = false;\\n            }\\n        }\\n        break;\\n    case \'OnManagerPageAfterRender\':\\n        if ($controller->packToJSON) {\\n\\n            $content = $controller->content;\\n            $title = $controller->getPageTitle();\\n\\n            $scripts = array();\\n            $styles = array();\\n            $sources = array();\\n            $standalone = array();\\n            $topics = array();\\n\\n\\n            $loaded = json_decode($_REQUEST[\'loaded\'], true);\\n\\n            $embedded = array();\\n            $embedded[\'styles\']   = array();\\n            $embedded[\'scripts\']  = array();\\n\\n            foreach ($controller->head[\'css\'] as $src) {\\n                if (!in_array($src, $loaded[\'styleSheets\']))\\n                    $styles[] = $src;\\n            }\\n\\n            foreach ($controller->head[\'js\'] as $src) {\\n                $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                if (!in_array($src, $loaded[\'scripts\']))\\n                    $sources[] = $src;\\n            }\\n\\n            foreach ($controller->head[\'html\'] as $html) {\\n                if (preg_match(\'\\/<script(.*?)>\\/\', $html)){\\n                    $embedded[\'scripts\'][] = $html;\\n                } else if (preg_match(\'\\/<style(.*?)>\\/\', $html)){\\n                    $embedded[\'styles\'][] = $html;\\n                }\\n            }\\n\\n            foreach ($modx->sjscripts as $html) {\\n                if (preg_match(\'\\/<script(.*?)>\\/\', $html, $matches)){\\n                    if (preg_match(\'\\/src\\\\s*=\\\\s*([\\"\\\\\'])(?P<src>.*?)\\\\1\\/\', $matches[1], $matches)) {\\n                        $src = $matches[\'src\'];\\n                        $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                        if (in_array($src, $loaded[\'scripts\'])) continue;\\n                        if (preg_match(\'\\/tiny_mce(_src)?.js$\\/\', $src)) {\\n                            $standalone[] = $src;\\n                            continue;\\n                        }\\n                        $sources[] = $src;\\n                    } else {\\n                        $embedded[\'scripts\'][] = str_replace(\'MODx.loadRTE();\', \'\', $html);\\n                    }\\n                } else if (preg_match(\'\\/<style(.*?)>\\/\', $html)){\\n                    $embedded[\'styles\'][] = $html;\\n                }\\n            }\\n\\n            foreach ($controller->head[\'lastjs\'] as $src) {\\n                $src = strtok($src, \'?\'); \\/\\/ Trim query string\\n                if (!in_array($src, $loaded[\'scripts\']))\\n                    $sources[] = $src;\\n            }\\n\\n            if (count($sources)){\\n                $scripts[] = $managerUrl.\'min\\/index.php?f=\'.implode(\',\',$sources);\\n            }\\n            $scripts = array_merge($scripts, $standalone);\\n\\n            $langTopics = $controller->getPlaceholder(\'_lang_topics\');\\n            $langTopics = explode(\',\',$langTopics);\\n            foreach($langTopics as $topic) {\\n                if (!in_array($topic, $loaded[\'topics\']))\\n                    $topics[] = $topic;\\n            }\\n            if (count($topics)){\\n                $scripts[] = $modx->getOption(\'connectors_url\', null, MODX_CONNECTORS_URL). \'components\\/ajaxmanager\\/lang.js.php?ctx=mgr&topic=\'.implode(\',\', $topics);\\n            }\\n\\n            $response = array(\\n                \'title\'     => $title,\\n                \'content\'   => $content,\\n                \'scripts\'   => $scripts,\\n                \'styles\'    => $styles,\\n                \'embedded\'  => array(\\n                    \'scripts\'    => $embedded[\'scripts\'],\\n                    \'styles\'     => $embedded[\'styles\']\\n                )\\n            );\\n\\n            $controller->content = json_encode($response);\\n\\n            header(\'Content-Type: application\\/json\');\\n        }\\n}"}',
);